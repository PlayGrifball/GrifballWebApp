<div class="app-container" [class.app-is-mobile]="mobileQuery.matches">

  <app-toolbar [snav]="snav">
    <div class="toolbar-links w-full mx-3 flex">
      <a mat-button [routerLink]="'/'" style="visibility: hidden; position: absolute;"  id="hidden">
        Hidden
      </a>
      @for (nav of visibleNavLinks; track nav) {
        @if (nav.show()) {
          <a mat-button [routerLink]="nav.path" class="">
            {{nav.title}}
          </a>
        }
      }
      <!-- <mat-menu #overflowMenu="matMenu">
        @for (nav of overflowNavLinks; track nav) {
          @if (nav.show()) {
            <button mat-menu-item [routerLink]="nav.path">
              {{ nav.title }}
            </button>
          }
        }
      </mat-menu>
      @if (overflowNavLinks.length > 0) {
        <button mat-icon-button [matMenuTriggerFor]="overflowMenu">
          <mat-icon>more_vert</mat-icon>
        </button>
      } -->
    </div>
  </app-toolbar>

  <mat-sidenav-container class="app-sidenav-container"
                         [style.marginTop.px]="mobileQuery.matches ? 56 : 0">

    <mat-sidenav #snav fixedTopGap="56"
                 [fixedInViewport]="mobileQuery.matches" [mode]="'over'">
      @for (nav of navLinks; track nav) {
        @if (nav.show()) {
          <mat-nav-list>
            <a mat-list-item [routerLink]="nav.path" (click)="snav.toggle(false)">
              {{ nav.title }}
            </a>
          </mat-nav-list>
        }
      }
    </mat-sidenav>

    <mat-sidenav-content class="bg-gradient-to-r from-secondary-10 to-tertiary-10 p-4">
      <section>
        <router-outlet></router-outlet>
      </section>
    </mat-sidenav-content>

  </mat-sidenav-container>

</div>
